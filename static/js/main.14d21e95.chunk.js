(this["webpackJsonpinsta-share"]=this["webpackJsonpinsta-share"]||[]).push([[0],{100:function(e,t,s){},101:function(e,t,s){},102:function(e,t,s){},103:function(e,t,s){},105:function(e,t,s){},106:function(e,t,s){"use strict";s.r(t);var r,a=s(2),n=s.n(a),c=s(13),i=s(26),o=s.n(i),l=s(7),u=s(8),j=s(10),h=s(9),d=s(5),m=s(6),b=s(14),p=s(11),O=s.n(p),f=(s(54),s(1)),g=function(e){function t(){var e;Object(l.a)(this,t);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=Object(j.a)(this,t,[].concat(r))).state={username:"",password:"",showErrorMsg:!1,errorMsg:"",showPassword:!1},e.onSubmitSuccess=function(t){var s=e.props.history;O.a.set("jwt_token",t,{expires:30}),s.replace("/")},e.onSubmitFailure=function(t){e.setState({showErrorMsg:!0,errorMsg:t})},e.onSubmitLoginDetails=function(){var t=Object(b.a)(Object(m.a)().mark((function t(s){var r,a,n,c,i,o,l;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),r=e.state,a=r.username,n=r.password,c={username:a,password:n},i={method:"POST",body:JSON.stringify(c)},t.next=7,fetch("https://apis.ccbp.in/login",i);case 7:return o=t.sent,t.next=10,o.json();case 10:l=t.sent,o.ok?e.onSubmitSuccess(l.jwt_token):e.onSubmitFailure(l.error_msg);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onChangeUsername=function(t){e.setState({username:t.target.value})},e.onChangePassword=function(t){e.setState({password:t.target.value})},e.onShowPassword=function(){e.setState((function(e){return{showPassword:!e.showPassword}}))},e.renderUsernameInputContainer=function(){var t=e.state.username;return Object(f.jsxs)("div",{className:"input-container-login",children:[Object(f.jsx)("label",{className:"label",htmlFor:"username",children:"USERNAME"}),Object(f.jsx)("input",{className:"input-box",type:"text",id:"username",value:t,placeholder:"Username",onChange:e.onChangeUsername})]})},e.renderPasswordInputContainer=function(){var t=e.state,s=t.password,r=t.showPassword;return Object(f.jsxs)("div",{className:"input-container-login",children:[Object(f.jsx)("label",{className:"label",htmlFor:"password",children:"PASSWORD"}),Object(f.jsx)("input",{type:r?"text":"password",className:"input-box",id:"password",placeholder:"Password",value:s,onChange:e.onChangePassword}),Object(f.jsxs)("div",{className:"label-container",children:[Object(f.jsx)("input",{className:"checkbox",type:"checkbox",id:"checkbox",onChange:e.onShowPassword}),Object(f.jsx)("label",{htmlFor:"checkbox",children:"Show Password"})]})]})},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.showErrorMsg,s=e.errorMsg;return void 0!==O.a.get("jwt_token")?Object(f.jsx)(d.a,{to:"/"}):Object(f.jsxs)("div",{className:"login-container",children:[Object(f.jsx)("img",{src:"https://res.cloudinary.com/dq7imhrvo/image/upload/v1643601870/insta%20Shere%20clone/Layer_2_kcc41y.png",alt:"website login",className:"login-image"}),Object(f.jsxs)("div",{className:"login-detail-container",children:[Object(f.jsx)("img",{src:"https://res.cloudinary.com/dq7imhrvo/image/upload/v1643601872/insta%20Shere%20clone/Standard_Collection_8_wutyeq.png",alt:"website logo",className:"website-logo"}),Object(f.jsx)("h1",{className:"website-head",children:"Insta Share"}),Object(f.jsxs)("form",{className:"form-container",onSubmit:this.onSubmitLoginDetails,children:[Object(f.jsx)(f.Fragment,{children:this.renderUsernameInputContainer()}),Object(f.jsx)(f.Fragment,{children:this.renderPasswordInputContainer()}),t&&Object(f.jsx)("p",{className:"error",children:s}),Object(f.jsx)("button",{className:"login-button",type:"submit",children:"Login"})]})]})]})}}])}(a.Component),x=g,N=s(24),v=function(e){return void 0!==O.a.get("jwt_token")?Object(f.jsx)(d.b,Object(N.a)({},e)):Object(f.jsx)(d.a,{to:"/login"})},S=s(39),w=s(23),y=s(40),k=s(35),C=s(34),_=n.a.createContext({isDark:"",toggleTheme:function(){}}),P=(s(63),function(e){function t(){var e;Object(l.a)(this,t);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=Object(j.a)(this,t,[].concat(r))).state={isMenuVisible:!1,isSearchActive:!1},e.onClickSearch=function(){"/"===e.getActiveRoute()&&e.setState((function(e){return{isSearchActive:!e.isSearchActive}}))},e.getActiveRoute=function(){return e.props.match.path},e.onClickLogout=function(){e.props.history.replace("/login"),O.a.remove("jwt_token")},e.onClickHamburgerMenu=function(){e.toggleMenuVisibility()},e.toggleMenuVisibility=function(){e.setState((function(e){return{isMenuVisible:!e.isMenuVisible}}))},e.onChangeSearchQuery=function(t){(0,e.props.updateSearchQuery)(t.target.value)},e.onClickSearchButton=function(){(0,e.props.getSearchResults)()},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return Object(f.jsx)(_.Consumer,{children:function(t){var s=t.isDark,r=t.toggleTheme,a=s?Object(f.jsx)(k.b,{className:"header-theme-icon"}):Object(f.jsx)(k.a,{className:"header-theme-icon"}),n=e.state,i=n.isSearchActive,o=n.isMenuVisible,l=e.props.searchQuery;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("nav",{className:"navbar",children:Object(f.jsxs)("div",{className:"nav-content",children:[Object(f.jsxs)("div",{className:"nav-container",children:[Object(f.jsxs)(c.b,{className:"nav-logo-link",to:"/",children:[Object(f.jsx)("img",{className:"header-website-logo",alt:"website logo",src:"https://res.cloudinary.com/aneesmon/image/upload/v1648277533/Insta_Share/website-logo_yvroxv.png"}),Object(f.jsx)("h1",{className:"header-website-title",children:"Insta Share"})]}),Object(f.jsx)("button",{className:"header-menu-button",onClick:e.onClickHamburgerMenu,type:"button",children:Object(f.jsx)(S.a,{className:"header-menu-icon"})})]}),o&&Object(f.jsxs)("li",{className:"nav-menu-sm",children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(c.b,{className:"nav-link ".concat("/"===e.getActiveRoute()&&!i&&"active-menu"),to:"/",children:"Home"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)("button",{className:"nav-link ".concat(i&&"active-menu"),type:"button",onClick:e.onClickSearch,children:"Search"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(c.b,{className:"nav-link ".concat("/my-profile"===e.getActiveRoute()&&"active-menu"),to:"/my-profile",children:"Profile"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)("button",{className:"header-theme-button",type:"button",onClick:r,children:a})}),Object(f.jsx)("li",{children:Object(f.jsx)(C.a,{modal:!0,trigger:Object(f.jsx)("button",{className:"header-logout-button",type:"button",children:"Logout"}),children:function(t){return Object(f.jsxs)("div",{className:"modalContainer",children:[Object(f.jsx)("div",{children:"Are you sure want to logout?"}),Object(f.jsxs)("div",{className:"button-container",children:[Object(f.jsx)("button",{className:"cancel-button",type:"button",onClick:function(){return t()},children:"Cancel"}),Object(f.jsx)("button",{type:"button",className:"confirm-button",onClick:e.onClickLogout,children:"Confirm"})]})]})}})}),Object(f.jsx)("button",{className:"header-close-button",type:"button",onClick:e.onClickHamburgerMenu,children:Object(f.jsx)(y.a,{className:"header-close-icon"})})]}),i&&Object(f.jsxs)("div",{className:"header-search-container-sm",children:[Object(f.jsx)("input",{className:"header-search",type:"search",placeholder:"Search Caption",value:l,onChange:e.onChangeSearchQuery}),Object(f.jsx)("button",{className:"header-search-button",type:"button",onClick:e.onClickSearchButton,children:Object(f.jsx)(w.b,{className:"header-search-icon"})})]}),Object(f.jsxs)("ul",{className:"nav-menu-lg",children:[Object(f.jsxs)("li",{className:"nav-item header-search-container-lg",children:[Object(f.jsx)("input",{className:"header-search",type:"search",placeholder:"Search Caption",value:l,onChange:e.onChangeSearchQuery}),Object(f.jsx)("button",{className:"header-search-button",type:"button",onClick:e.onClickSearchButton,children:Object(f.jsx)(w.b,{className:"header-search-icon"})})]}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(c.b,{className:"nav-link ".concat("/"===e.getActiveRoute()&&"active-menu"),to:"/",children:"Home"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(c.b,{className:"nav-link ".concat("/my-profile"===e.getActiveRoute()&&"active-profile"),to:"/my-profile",children:Object(f.jsx)("img",{alt:"profile",className:"profile",src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"})})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)("button",{className:"header-theme-button",type:"button",onClick:r,children:a})}),Object(f.jsx)("li",{children:Object(f.jsx)(C.a,{modal:!0,trigger:Object(f.jsx)("button",{className:"header-logout-button",type:"button",children:"Logout"}),children:function(t){return Object(f.jsxs)("div",{className:"modalContainer",children:[Object(f.jsx)("div",{children:"Are you sure want to logout?"}),Object(f.jsxs)("div",{className:"button-container",children:[Object(f.jsx)("button",{className:"cancel-button",type:"button",onClick:function(){return t()},children:"Cancel"}),Object(f.jsx)("button",{className:"confirm-button",type:"button",onClick:e.onClickLogout,children:"Confirm"})]})]})}})})]})]})}),Object(f.jsx)("hr",{className:"navbar-footer-rule"})]})}})}}])}(a.Component)),I=Object(d.g)(P),A=s(41),R=s.n(A),U=s(18),F=s.n(U),D=(s(97),"INITIAL"),V="IN_PROGRESS",T="SUCCESS",E="FAILURE",L={dots:!1,infinite:!1,speed:500,slidesToShow:7,slidesToScroll:1,responsive:[{breakpoint:900,settings:{slidesToShow:6,slidesToScroll:1}},{breakpoint:660,settings:{slidesToShow:5,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:4,slidesToScroll:1}}]},M=function(e){function t(){var e;Object(l.a)(this,t);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=Object(j.a)(this,t,[].concat(r))).state={userStoriesData:[],apiStatus:D},e.componentDidMount=function(){e.getUserStories()},e.getUserStories=Object(b.a)(Object(m.a)().mark((function t(){var s,r,a,n,c,i;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=O.a.get("jwt_token"),e.setState({apiStatus:V}),r=function(e){return e.map((function(e){return{storyUrl:e.story_url,userId:e.user_id,userName:e.user_name}}))},a={method:"GET",headers:{authorization:"bearer ".concat(s)}},t.next=7,fetch("https://apis.ccbp.in/insta-share/stories",a);case 7:if(!(n=t.sent).ok){t.next=16;break}return t.next=11,n.json();case 11:c=t.sent,i=r(c.users_stories),e.setState({userStoriesData:i,apiStatus:T}),t.next=17;break;case 16:e.setState({apiStatus:E});case 17:case"end":return t.stop()}}),t)}))),e.renderStoriesView=function(){var t=e.state.userStoriesData;return 0!==t.length&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"main-container",children:Object(f.jsx)("div",{className:"slick-container",children:Object(f.jsx)(R.a,Object(N.a)(Object(N.a)({},L),{},{children:t.map((function(e){var t=e.storyUrl,s=e.userId,r=e.userName;return Object(f.jsx)("div",{className:"slick-item",children:Object(f.jsxs)("div",{className:"story-item",children:[Object(f.jsx)("img",{className:"story-image",src:t,alt:"user story"}),Object(f.jsx)("p",{className:"story-user-name marquee",children:Object(f.jsx)("span",{children:r})})]})},s)}))}))})}),Object(f.jsx)(_.Consumer,{children:function(e){var t=e.isDark?"story-footer-rule story-footer-rule-dark":"story-footer-rule";return Object(f.jsx)("hr",{className:t})}})]})},e.renderLoadingView=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"stories-loading-container",children:Object(f.jsx)(F.a,{type:"TailSpin",color:"#4094EF",height:30,width:30})}),Object(f.jsx)("hr",{className:"story-footer-rule"})]})},e.renderFailureView=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"stories-loading-container",children:[Object(f.jsx)("img",{className:"stories-error-icon",alt:"failure view",src:"https://res.cloudinary.com/aneesmon/image/upload/v1648988122/Insta_Share/home-failure-image_twfusi.png"}),Object(f.jsx)("p",{className:"stories-error-message",children:"Something went wrong. Please try again"}),Object(f.jsx)("button",{className:"stories-error-button",type:"button",onClick:e.getUserStories,children:"Try again"})]}),Object(f.jsx)("hr",{className:"story-footer-rule"})]})},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){switch(this.state.apiStatus){case V:return this.renderLoadingView();case T:return this.renderStoriesView();case E:return this.renderFailureView();default:return null}}}])}(a.Component),Q=M,B=s(43),z=s(28),G=s(42),q=(s(98),function(e){function t(){var e;Object(l.a)(this,t);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=Object(j.a)(this,t,[].concat(r))).state={likeStatus:!1},e.onClickLikeButton=Object(b.a)(Object(m.a)().mark((function t(){var s,r,a,n,c,i,o;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.state.likeStatus,r=e.props.UserPostDetails,a=r.postId,n=O.a.get("jwt_token"),c="https://apis.ccbp.in/insta-share/posts/".concat(a,"/like"),i={like_status:!s},o={method:"POST",headers:{Authorization:"Bearer ".concat(n)},body:JSON.stringify(i)},t.next=9,fetch(c,o);case 9:t.sent.ok&&e.setState({likeStatus:!s});case 11:case"end":return t.stop()}}),t)}))),e.renderUserPostComments=function(){var t=e.props.UserPostDetails.comments;return Object(f.jsx)("ul",{className:"upi-comments-container",children:t.map((function(e){var t=e.userId,s=e.userName,r=e.comment;return Object(f.jsx)("li",{className:"upi-comment-item",children:Object(f.jsxs)("p",{className:"upi-comment",children:[Object(f.jsx)("span",{className:"upi-comment-username",children:s}),r]})},t)}))})},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.likeStatus,t=this.props.UserPostDetails,s=t.createdAt,r=t.likesCount,a=t.postDetails,n=t.profilePic,i=t.userId,o=t.userName,l=a.caption,u=a.imageUrl;return Object(f.jsxs)("li",{className:"upi-card",children:[Object(f.jsxs)("div",{className:"upi-header",children:[Object(f.jsx)("div",{className:"upi-avatar-container",children:Object(f.jsx)("img",{className:"upi-avatar",alt:"post author profile",src:n})}),Object(f.jsx)(c.b,{className:"upi-username-link",to:"/users/".concat(i),children:Object(f.jsx)("p",{className:"upi-user-name",children:o})})]}),Object(f.jsx)("img",{className:"upi-image",alt:"post",src:u}),Object(f.jsxs)("div",{className:"upi-footer",children:[Object(f.jsxs)("div",{className:"upi-reactions-container",children:[e?Object(f.jsx)("button",{className:"upi-reaction-button",type:"button",onClick:this.onClickLikeButton,children:Object(f.jsx)(G.a,{className:"upi-like-icon"})}):Object(f.jsx)("button",{className:"upi-reaction-button",type:"button",onClick:this.onClickLikeButton,children:Object(f.jsx)(B.a,{className:"upi-unlike-icon"})}),Object(f.jsx)("button",{className:"upi-reaction-button",type:"button",children:Object(f.jsx)(w.a,{className:"upi-comment-icon"})}),Object(f.jsx)("button",{className:"upi-reaction-button",type:"button",children:Object(f.jsx)(z.b,{className:"upi-share-icon"})})]}),Object(f.jsxs)("p",{className:"upi-likes-count",children:[r+e," likes"]}),Object(f.jsx)("p",{className:"upi-caption",children:l}),this.renderUserPostComments(),Object(f.jsx)("p",{className:"upi-time",children:s})]})]})}}])}(a.Component)),H=q,J=(s(99),"INITIAL"),W="IN_PROGRESS",Y="SUCCESS",K="FAILURE",X=function(e){function t(){var e;Object(l.a)(this,t);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=Object(j.a)(this,t,[].concat(r))).state={userPosts:[],apiStatus:J},e.getUserPosts=Object(b.a)(Object(m.a)().mark((function t(){var s,r,a,n,c,i,o;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=O.a.get("jwt_token"),e.setState({apiStatus:W}),r={method:"GET",headers:{Authorization:"Bearer ".concat(s)}},a=function(e){return e.map((function(e){return{comments:e.comments.map((function(e){return{comment:e.comment,userId:e.user_id,userName:e.user_name}})),postDetails:{caption:e.post_details.caption,imageUrl:e.post_details.image_url},createdAt:e.created_at,likesCount:e.likes_count,postId:e.post_id,profilePic:e.profile_pic,userId:e.user_id,userName:e.user_name}}))},t.next=7,fetch("https://apis.ccbp.in/insta-share/posts",r);case 7:return n=t.sent,t.next=10,n.json();case 10:c=t.sent,n.ok?(i=c.posts,o=a(i),e.setState({userPosts:o,apiStatus:Y})):e.setState({apiStatus:K});case 12:case"end":return t.stop()}}),t)}))),e.renderUserPostsView=function(){var t=e.state.userPosts;return Object(f.jsx)("ul",{className:"user-posts-container",children:t.map((function(e){return Object(f.jsx)(H,{UserPostDetails:e},e.postId)}))})},e.renderLoadingView=function(){return Object(f.jsx)("div",{className:"user-posts-loader-container",children:Object(f.jsx)(F.a,{type:"TailSpin",color:"#4094EF",height:50,width:50})})},e.renderFailureView=function(){return Object(f.jsxs)("div",{className:"user-posts-loader-container",children:[Object(f.jsx)("img",{className:"user-posts-error-icon",alt:"failure view",src:"https://res.cloudinary.com/aneesmon/image/upload/v1648988122/Insta_Share/home-failure-image_twfusi.png"}),Object(f.jsx)("p",{className:"user-posts-error-message",children:"Something went wrong. Please try again"}),Object(f.jsx)("button",{className:"user-posts-error-button",type:"button",onClick:e.getUserPosts,children:"Try again"})]})},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getUserPosts()}},{key:"render",value:function(){switch(this.state.apiStatus){case W:return this.renderLoadingView();case Y:return this.renderUserPostsView();case K:return this.renderFailureView();default:return null}}}])}(a.Component),Z=X,$=(s(100),"INITIAL"),ee="IN_PROGRESS",te="SUCCESS",se="FAILURE",re=function(e){function t(){var e;Object(l.a)(this,t);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=Object(j.a)(this,t,[].concat(r))).renderSearchResultsView=function(){var t=e.props.searchResults;return 0!==t.length?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{className:"posts-search-title",children:"Search Results"}),Object(f.jsx)("ul",{className:"user-posts-container search-results-container",children:t.map((function(e){return Object(f.jsx)(H,{UserPostDetails:e},e.postId)}))})]}):Object(f.jsxs)("div",{className:"user-profile-loader-container",children:[Object(f.jsx)("img",{className:"user-profile-error-image",alt:"search not found",src:"https://res.cloudinary.com/aneesmon/image/upload/v1648988144/Insta_Share/search-not-found-image_pgjuwz.png"}),Object(f.jsx)("h1",{className:"posts-search-error-message",children:"Search Not Found"}),Object(f.jsx)("p",{className:"posts-search-error-description",children:"Try different keyword or search again"})]})},e.renderInitialView=function(){return Object(f.jsxs)("div",{className:"user-profile-loader-container",children:[Object(f.jsx)("img",{className:"posts-search-initial-image",alt:"",src:"https://res.cloudinary.com/aneesmon/image/upload/v1649495550/Insta_Share/search-initial_oyoblm.png"}),Object(f.jsx)("h1",{className:"posts-search-initial-message",children:"Search Results will be appear here"})]})},e.renderLoadingView=function(){return Object(f.jsx)("div",{className:"user-profile-loader-container",children:Object(f.jsx)(F.a,{type:"TailSpin",color:"#4094EF",height:50,width:50})})},e.onClickRetry=function(){(0,e.props.getSearchResults)()},e.renderFailureView=function(){return Object(f.jsxs)("div",{className:"user-profile-loader-container",children:[Object(f.jsx)("img",{className:"user-profile-error-image",alt:"failure view",src:"https://res.cloudinary.com/aneesmon/image/upload/v1648988134/Insta_Share/failure-image_hzoet8.png"}),Object(f.jsx)("p",{className:"user-profile-error-message",children:"Something went wrong. Please try again"}),Object(f.jsx)("button",{className:"user-profile-error-button",type:"button",onClick:e.onClickRetry,children:"Try again"})]})},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){switch(this.props.apiStatus){case $:return this.renderInitialView();case ee:return this.renderLoadingView();case te:return this.renderSearchResultsView();case se:return this.renderFailureView();default:return null}}}])}(a.Component),ae=re,ne="INITIAL",ce="IN_PROGRESS",ie="SUCCESS",oe="FAILURE",le=function(e){function t(){var e;Object(l.a)(this,t);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=Object(j.a)(this,t,[].concat(r))).state={searchQuery:"",searchResults:[],apiStatus:ne},e.updateSearchQuery=function(t){var s=e.state.searchQuery;e.setState({searchQuery:t}),""===s&&e.setState({apiStatus:ne})},e.getSearchResults=Object(b.a)(Object(m.a)().mark((function t(){var s,r,a,n,c,i,o,l,u;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.state.searchQuery,r=O.a.get("jwt_token"),e.setState({apiStatus:ce}),a="https://apis.ccbp.in/insta-share/posts?search=".concat(s),n={method:"GET",headers:{Authorization:"Bearer ".concat(r)}},c=function(e){return e.map((function(e){return{comments:e.comments.map((function(e){return{comment:e.comment,userId:e.user_id,userName:e.user_name}})),postDetails:{caption:e.post_details.caption,imageUrl:e.post_details.image_url},createdAt:e.created_at,likesCount:e.likes_count,postId:e.post_id,profilePic:e.profile_pic,userId:e.user_id,userName:e.user_name}}))},t.next=8,fetch(a,n);case 8:return i=t.sent,t.next=11,i.json();case 11:o=t.sent,i.ok?(l=o.posts,u=c(l),e.setState({searchResults:u,apiStatus:ie})):e.setState({apiStatus:oe});case 13:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.searchQuery,s=e.searchResults,r=e.apiStatus;return""===t?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(I,{searchQuery:t,updateSearchQuery:this.updateSearchQuery}),Object(f.jsx)(Q,{}),Object(f.jsx)(Z,{})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(I,{searchQuery:t,updateSearchQuery:this.updateSearchQuery,getSearchResults:this.getSearchResults}),Object(f.jsx)(ae,{searchResults:s,apiStatus:r,getSearchResults:this.getSearchResults})]})}}])}(a.Component),ue=le,je=s(44),he=(s(101),function(e){var t=e.profileDetails,s=e.owner,r=t.followersCount,a=t.followingCount,n=t.postsCount,c=t.profilePic,i=t.userBio,o=t.userId,l=t.userName;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(I,{}),Object(f.jsxs)("div",{className:"up-container",children:[Object(f.jsxs)("div",{className:"up-header",children:[Object(f.jsxs)("div",{className:"up-info-container",children:[Object(f.jsx)("img",{className:"up-avatar-lg",alt:"",src:c}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"up-name",children:l}),Object(f.jsxs)("div",{className:"up-avatar-counts-container",children:[Object(f.jsx)("img",{className:"up-avatar-sm",alt:"".concat(s," profile"),src:c}),Object(f.jsxs)("ul",{className:"up-counts-container",children:[Object(f.jsxs)("li",{className:"up-count-item",children:[Object(f.jsx)("h1",{className:"up-count-value",children:n}),Object(f.jsx)("p",{className:"up-count-label",children:"posts"})]}),Object(f.jsxs)("li",{className:"up-count-item",children:[Object(f.jsx)("h1",{className:"up-count-value",children:r}),Object(f.jsx)("p",{className:"up-count-label",children:"followers"})]}),Object(f.jsxs)("li",{className:"up-count-item",children:[Object(f.jsx)("h1",{className:"up-count-value",children:a}),Object(f.jsx)("p",{className:"up-count-label",children:"following"})]})]})]}),Object(f.jsx)("p",{className:"up-username",children:o}),Object(f.jsx)("p",{className:"up-bio",children:i})]})]}),function(){var t=e.profileDetails,s=e.owner,r=t.stories;return 0!==r.length?Object(f.jsx)("ul",{className:"up-stories-container",children:r.map((function(e){var t=e.id,r=e.image;return Object(f.jsx)("li",{className:"up-story-item",children:Object(f.jsx)("img",{className:"up-story-image",alt:"".concat(s," story"),src:r})},t)}))}):null}()]}),Object(f.jsx)("hr",{className:"up-horizontal-rule"}),Object(f.jsxs)("div",{className:"up-tab",children:[Object(f.jsx)(je.a,{className:"up-tab-icon"}),Object(f.jsx)("h1",{className:"up-tab-label",children:"Posts"})]}),function(){var t=e.profileDetails,s=e.owner,r=t.posts;return 0!==r.length?Object(f.jsx)("ul",{className:"up-posts-container",children:r.map((function(e){var t=e.id,r=e.image;return Object(f.jsx)("li",{className:"up-post-container",children:Object(f.jsx)("img",{className:"up-post-image",alt:"".concat(s," post"),src:r})},t)}))}):Object(f.jsxs)("div",{className:"up-no-posts-container",children:[Object(f.jsx)("div",{className:"up-no-posts-icon-container",children:Object(f.jsx)(z.a,{className:"up-no-posts-icon"})}),Object(f.jsx)("h1",{className:"up-no-posts-message",children:"No Posts Yet"})]})}()]})]})}),de=(s(102),"INITIAL"),me="IN_PROGRESS",be="SUCCESS",pe="FAILURE",Oe=function(e){function t(){var e;Object(l.a)(this,t);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=Object(j.a)(this,t,[].concat(r))).state={userProfileData:{},apiStatus:de},e.componentDidMount=function(){e.getUserProfile()},e.getUserProfile=Object(b.a)(Object(m.a)().mark((function t(){var s,r,a,n,c,i,o,l,u,j,h;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=O.a.get("jwt_token"),e.setState({apiStatus:me}),r=e.props.match,a=r.params,n=a.id,c="https://apis.ccbp.in/insta-share/users/".concat(n),i={method:"GET",headers:{Authorization:"bearer ".concat(s)}},o=function(e){return{posts:e.posts,stories:e.stories,followersCount:e.followers_count,followingCount:e.following_count,id:e.id,postsCount:e.posts_count,userBio:e.user_bio,profilePic:e.profile_pic,userId:"AshishNikhil",userName:"AshishNikhil"}},t.next=10,fetch(c,i);case 10:return l=t.sent,t.next=13,l.json();case 13:u=t.sent,l.ok?(j=u.user_details,h=o(j),e.setState({userProfileData:h,apiStatus:be})):e.setState({apiStatus:pe});case 15:case"end":return t.stop()}}),t)}))),e.renderUserProfileView=function(){var t=e.state.userProfileData;return Object(f.jsx)(he,{profileDetails:t,owner:"user"})},e.renderLoadingView=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(I,{}),Object(f.jsx)("div",{className:"user-profile-loader-container",children:Object(f.jsx)(F.a,{type:"TailSpin",color:"#4094EF",height:50,width:50})})]})},e.renderFailureView=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(I,{}),Object(f.jsxs)("div",{className:"user-profile-loader-container",children:[Object(f.jsx)("img",{className:"user-profile-error-image",alt:"failure view",src:"https://res.cloudinary.com/aneesmon/image/upload/v1648988134/Insta_Share/failure-image_hzoet8.png"}),Object(f.jsx)("p",{className:"user-profile-error-message",children:"Something went wrong. Please try again"}),Object(f.jsx)("button",{className:"user-profile-error-button",type:"button",onClick:e.getUserProfile,children:"Try again"})]})]})},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){switch(this.state.apiStatus){case me:return this.renderLoadingView();case be:return this.renderUserProfileView();case pe:return this.renderFailureView();default:return null}}}])}(a.Component),fe=Oe,ge="INITIAL",xe="IN_PROGRESS",Ne="SUCCESS",ve="FAILURE",Se=function(e){function t(){var e;Object(l.a)(this,t);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=Object(j.a)(this,t,[].concat(r))).state={myProfileData:{},apiStatus:ge},e.componentDidMount=function(){e.getMyProfile()},e.getMyProfile=Object(b.a)(Object(m.a)().mark((function t(){var s,r,a,n,c,i,o;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=O.a.get("jwt_token"),e.setState({apiStatus:xe}),r={method:"GET",headers:{Authorization:"bearer ".concat(s)}},a=function(e){return{posts:e.posts,stories:e.stories,followersCount:e.followers_count,followingCount:e.following_count,id:e.id,postsCount:e.posts_count,profilePic:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",userBio:"Mern Stack Developer",userId:"AshishNikhil",userName:"AshishNikhil"}},t.next=7,fetch("https://apis.ccbp.in/insta-share/my-profile",r);case 7:return n=t.sent,t.next=10,n.json();case 10:c=t.sent,n.ok?(i=c.profile,o=a(i),e.setState({myProfileData:o,apiStatus:Ne})):e.setState({apiStatus:ve});case 12:case"end":return t.stop()}}),t)}))),e.renderMyProfileView=function(){var t=e.state.myProfileData;return Object(f.jsx)(he,{profileDetails:t,owner:"my"})},e.renderLoadingView=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(I,{}),Object(f.jsx)("div",{className:"user-profile-loader-container",children:Object(f.jsx)(F.a,{type:"TailSpin",color:"#4094EF",height:50,width:50})})]})},e.renderFailureView=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(I,{}),Object(f.jsxs)("div",{className:"user-profile-loader-container",children:[Object(f.jsx)("img",{className:"user-profile-error-image",alt:"failure view",src:"https://res.cloudinary.com/aneesmon/image/upload/v1648988134/Insta_Share/failure-image_hzoet8.png"}),Object(f.jsx)("p",{className:"user-profile-error-message",children:"Something went wrong. Please try again"}),Object(f.jsx)("button",{className:"user-profile-error-button",type:"button",onClick:e.getMyProfile,children:"Try again"})]})]})},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){switch(this.state.apiStatus){case xe:return this.renderLoadingView();case Ne:return this.renderMyProfileView();case ve:return this.renderFailureView();default:return null}}}])}(a.Component),we=Se,ye=(s(103),function(){return Object(f.jsxs)("div",{className:"not-found-container",children:[Object(f.jsx)("img",{className:"not-found-image",alt:"page not found",src:"https://res.cloudinary.com/aneesmon/image/upload/v1648988139/Insta_Share/page-not-found-image_wqlqmz.png"}),Object(f.jsx)("h1",{className:"posts-search-error-message",children:"Page Not Found"}),Object(f.jsx)("p",{className:"posts-search-error-description not-found-description",children:"we are sorry, the page you requested could not be found. Please go back to the homepage."}),Object(f.jsx)(c.b,{className:"not-found-link",to:"/",children:Object(f.jsx)("button",{className:"user-profile-error-button",type:"button",children:"Home Page"})})]})}),ke=s(45),Ce=s(46).a.div(r||(r=Object(ke.a)(["\n  min-height: 100vh;\n  background-color: ",";\n  -webkit-transition: background-color 2s;\n  transition: background-color 2s;\n  * {\n    color: ",";\n    -webkit-transition: background-color 2s;\n    transition: background-color 2s;\n  }\n"])),(function(e){return e.dark?"#000000":"#ffffff"}),(function(e){return e.dark&&"#ffffff"})),_e=(s(105),function(e){function t(){var e;Object(l.a)(this,t);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=Object(j.a)(this,t,[].concat(r))).state={isDark:!1},e.toggleTheme=function(){e.setState((function(e){return{isDark:!e.isDark}}))},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.isDark;return Object(f.jsx)(_.Provider,{value:{isDark:e,toggleTheme:this.toggleTheme},children:Object(f.jsx)(Ce,{dark:e,children:Object(f.jsxs)(d.d,{children:[Object(f.jsx)(d.b,{path:"/login",component:x}),Object(f.jsx)(v,{exact:!0,path:"/",component:ue}),Object(f.jsx)(v,{exact:!0,path:"/users/:id",component:fe}),Object(f.jsx)(v,{exact:!0,path:"/my-profile",component:we}),Object(f.jsx)(ye,{})]})})})}}])}(a.Component)),Pe=_e;o.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(c.a,{children:Object(f.jsx)(Pe,{})})}),document.getElementById("root"))},54:function(e,t,s){},63:function(e,t,s){},97:function(e,t,s){},98:function(e,t,s){},99:function(e,t,s){}},[[106,1,2]]]);
//# sourceMappingURL=main.14d21e95.chunk.js.map